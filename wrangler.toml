# Wrangler Configuration for Spotify MCP Server
name = "spotify-mcp-server"
main = "src/server/worker.ts"
compatibility_date = "2025-01-23"
compatibility_flags = ["nodejs_compat"]
workers_dev = true

# KV Namespace for storing OAuth tokens
# Run: wrangler kv:namespace create SPOTIFY_TOKENS
# Then update the ID below
[[kv_namespaces]]
binding = "SPOTIFY_TOKENS"
id = "8ba8fce73b8447868bd539118a75d5c3"

# Environment Variables (set these as secrets with: wrangler secret put <NAME>)
# SPOTIFY_CLIENT_ID - Set via: wrangler secret put SPOTIFY_CLIENT_ID
# SPOTIFY_CLIENT_SECRET - Set via: wrangler secret put SPOTIFY_CLIENT_SECRET
# SPOTIFY_REDIRECT_URI - Set via: wrangler secret put SPOTIFY_REDIRECT_URI

# Environment Configuration
[env.production]
name = "spotify-mcp-server-production"

[[env.production.kv_namespaces]]
binding = "SPOTIFY_TOKENS"
id = "8ba8fce73b8447868bd539118a75d5c3"
